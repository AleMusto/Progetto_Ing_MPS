{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alessandro\\\\Code\\\\web-projects\\\\test-site\\\\Progetto Ingegneria\\\\frontend\\\\src\\\\pages\\\\DettagliElemento.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport AccordionResponsabile from '../components/AccordionResponsabile';\nimport { getCampiUnici } from '../helpers';\nimport useFetch from '../hooks/useFetch';\nimport { useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function DettagliElemento() {\n  _s();\n  const {\n    data,\n    loading,\n    error\n  } = useFetch('http://localhost:1337/api/patterns?pagination[pageSize]=100&populate=*');\n  const [uniqueFields, setUniqueFields] = useState([]);\n  const [singlePattern, setSinglePattern] = useState(null);\n  const {\n    id\n  } = useParams();\n  useEffect(() => {\n    if (data) {\n      const fields = getCampiUnici(data);\n      const uniqueFieldsArray = Object.entries(fields).map(([field, {\n        values,\n        ids\n      }], index) => ({\n        id: index,\n        label: field,\n        campi: Array.from(values),\n        id_campi: ids\n      }));\n      setUniqueFields(uniqueFieldsArray);\n    }\n  }, [data]);\n  useEffect(() => {\n    if (data && id) {\n      const pattern = data.find(item => item.id === parseInt(id));\n      setSinglePattern(pattern || null);\n    }\n  }, [data, id]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: [\"Error: \", error.message]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(AccordionResponsabile, {\n      items: uniqueFields,\n      singlePattern: singlePattern,\n      keepOthersOpen: true,\n      stato: \"Modifica\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n_s(DettagliElemento, \"LkspUSg0FjtLvetFhae5V0MFmmk=\", false, function () {\n  return [useFetch, useParams];\n});\n_c = DettagliElemento;\nvar _c;\n$RefreshReg$(_c, \"DettagliElemento\");","map":{"version":3,"names":["React","useEffect","useState","AccordionResponsabile","getCampiUnici","useFetch","useParams","jsxDEV","_jsxDEV","DettagliElemento","_s","data","loading","error","uniqueFields","setUniqueFields","singlePattern","setSinglePattern","id","fields","uniqueFieldsArray","Object","entries","map","field","values","ids","index","label","campi","Array","from","id_campi","pattern","find","item","parseInt","children","fileName","_jsxFileName","lineNumber","columnNumber","message","items","keepOthersOpen","stato","_c","$RefreshReg$"],"sources":["C:/Users/Alessandro/Code/web-projects/test-site/Progetto Ingegneria/frontend/src/pages/DettagliElemento.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport AccordionResponsabile from '../components/AccordionResponsabile';\r\nimport { getCampiUnici } from '../helpers';\r\nimport useFetch from '../hooks/useFetch';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nexport default function DettagliElemento() {\r\n  const { data, loading, error } = useFetch('http://localhost:1337/api/patterns?pagination[pageSize]=100&populate=*');\r\n  const [uniqueFields, setUniqueFields] = useState([]);\r\n  const [singlePattern, setSinglePattern] = useState(null);\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      const fields = getCampiUnici(data);\r\n  \r\n      const uniqueFieldsArray = Object.entries(fields).map(([field, { values, ids }], index) => ({\r\n        id: index,\r\n        label: field,\r\n        campi: Array.from(values),\r\n        id_campi: ids\r\n      }));\r\n  \r\n      setUniqueFields(uniqueFieldsArray);\r\n    }\r\n  }, [data]);\r\n\r\n  useEffect(() => {\r\n    if (data && id) {\r\n      const pattern = data.find((item) => item.id === parseInt(id));\r\n      setSinglePattern(pattern || null);\r\n    }\r\n  }, [data, id]);\r\n\r\n  if (loading) return <p>Loading...</p>;\r\n  if (error) return <p>Error: {error.message}</p>;\r\n\r\n  return (\r\n    <div>\r\n      <AccordionResponsabile items={uniqueFields} singlePattern={singlePattern} keepOthersOpen={true} stato={\"Modifica\"} />\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,qBAAqB,MAAM,qCAAqC;AACvE,SAASC,aAAa,QAAQ,YAAY;AAC1C,OAAOC,QAAQ,MAAM,mBAAmB;AACxC,SAASC,SAAS,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7C,eAAe,SAASC,gBAAgBA,CAAA,EAAG;EAAAC,EAAA;EACzC,MAAM;IAAEC,IAAI;IAAEC,OAAO;IAAEC;EAAM,CAAC,GAAGR,QAAQ,CAAC,wEAAwE,CAAC;EACnH,MAAM,CAACS,YAAY,EAAEC,eAAe,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACc,aAAa,EAAEC,gBAAgB,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM;IAAEgB;EAAG,CAAC,GAAGZ,SAAS,CAAC,CAAC;EAE1BL,SAAS,CAAC,MAAM;IACd,IAAIU,IAAI,EAAE;MACR,MAAMQ,MAAM,GAAGf,aAAa,CAACO,IAAI,CAAC;MAElC,MAAMS,iBAAiB,GAAGC,MAAM,CAACC,OAAO,CAACH,MAAM,CAAC,CAACI,GAAG,CAAC,CAAC,CAACC,KAAK,EAAE;QAAEC,MAAM;QAAEC;MAAI,CAAC,CAAC,EAAEC,KAAK,MAAM;QACzFT,EAAE,EAAES,KAAK;QACTC,KAAK,EAAEJ,KAAK;QACZK,KAAK,EAAEC,KAAK,CAACC,IAAI,CAACN,MAAM,CAAC;QACzBO,QAAQ,EAAEN;MACZ,CAAC,CAAC,CAAC;MAEHX,eAAe,CAACK,iBAAiB,CAAC;IACpC;EACF,CAAC,EAAE,CAACT,IAAI,CAAC,CAAC;EAEVV,SAAS,CAAC,MAAM;IACd,IAAIU,IAAI,IAAIO,EAAE,EAAE;MACd,MAAMe,OAAO,GAAGtB,IAAI,CAACuB,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACjB,EAAE,KAAKkB,QAAQ,CAAClB,EAAE,CAAC,CAAC;MAC7DD,gBAAgB,CAACgB,OAAO,IAAI,IAAI,CAAC;IACnC;EACF,CAAC,EAAE,CAACtB,IAAI,EAAEO,EAAE,CAAC,CAAC;EAEd,IAAIN,OAAO,EAAE,oBAAOJ,OAAA;IAAA6B,QAAA,EAAG;EAAU;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;EACrC,IAAI5B,KAAK,EAAE,oBAAOL,OAAA;IAAA6B,QAAA,GAAG,SAAO,EAACxB,KAAK,CAAC6B,OAAO;EAAA;IAAAJ,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAI,CAAC;EAE/C,oBACEjC,OAAA;IAAA6B,QAAA,eACE7B,OAAA,CAACL,qBAAqB;MAACwC,KAAK,EAAE7B,YAAa;MAACE,aAAa,EAAEA,aAAc;MAAC4B,cAAc,EAAE,IAAK;MAACC,KAAK,EAAE;IAAW;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAClH,CAAC;AAEV;AAAC/B,EAAA,CApCuBD,gBAAgB;EAAA,QACLJ,QAAQ,EAG1BC,SAAS;AAAA;AAAAwC,EAAA,GAJFrC,gBAAgB;AAAA,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}