{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alessandro\\\\Code\\\\web-projects\\\\test-site\\\\Progetto Ingegneria\\\\frontend\\\\src\\\\pages\\\\RegistraResponsabile.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport RegisterForm from '../View/RegisterForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RegistraResponsabile = () => {\n  _s();\n  const [message, setMessage] = useState(null);\n  const register = async event => {\n    event.preventDefault();\n    setMessage(null);\n    const formData = new FormData(event.target);\n    const jsonData = Object.fromEntries(formData);\n    const reqRegisterOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(jsonData)\n    };\n    const req = await fetch('http://localhost:1337/api/auth/local/register', reqRegisterOptions);\n    const res = await req.json();\n    if (res.error) {\n      setMessage(res.error.message);\n    } else if (res.jwt && res.user) {\n      setMessage('Utente registrato con successo');\n      // Resetta il form\n      event.target.reset();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(RegisterForm, {\n    message: message,\n    register: register\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n_s(RegistraResponsabile, \"oxT8SEz5FIjvFP5ix50Ku0sapH4=\");\n_c = RegistraResponsabile;\nexport default RegistraResponsabile;\nvar _c;\n$RefreshReg$(_c, \"RegistraResponsabile\");","map":{"version":3,"names":["React","useState","RegisterForm","jsxDEV","_jsxDEV","RegistraResponsabile","_s","message","setMessage","register","event","preventDefault","formData","FormData","target","jsonData","Object","fromEntries","reqRegisterOptions","method","headers","body","JSON","stringify","req","fetch","res","json","error","jwt","user","reset","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Alessandro/Code/web-projects/test-site/Progetto Ingegneria/frontend/src/pages/RegistraResponsabile.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport RegisterForm from '../View/RegisterForm';\r\n\r\nconst RegistraResponsabile = () => {\r\n  const [message, setMessage] = useState(null);\r\n\r\n  const register = async (event) => {\r\n    event.preventDefault();\r\n    setMessage(null);\r\n    const formData = new FormData(event.target);\r\n    const jsonData = Object.fromEntries(formData);\r\n\r\n    const reqRegisterOptions = {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(jsonData)\r\n    };\r\n    \r\n    const req = await fetch('http://localhost:1337/api/auth/local/register', reqRegisterOptions);\r\n    const res = await req.json();\r\n\r\n    if (res.error) {\r\n      setMessage(res.error.message);\r\n    } else if (res.jwt && res.user) {\r\n      setMessage('Utente registrato con successo');\r\n      // Resetta il form\r\n      event.target.reset();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <RegisterForm message={message} register={register} />\r\n  );\r\n};\r\n\r\nexport default RegistraResponsabile;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,YAAY,MAAM,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhD,MAAMC,oBAAoB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACjC,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EAE5C,MAAMQ,QAAQ,GAAG,MAAOC,KAAK,IAAK;IAChCA,KAAK,CAACC,cAAc,CAAC,CAAC;IACtBH,UAAU,CAAC,IAAI,CAAC;IAChB,MAAMI,QAAQ,GAAG,IAAIC,QAAQ,CAACH,KAAK,CAACI,MAAM,CAAC;IAC3C,MAAMC,QAAQ,GAAGC,MAAM,CAACC,WAAW,CAACL,QAAQ,CAAC;IAE7C,MAAMM,kBAAkB,GAAG;MACzBC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACR,QAAQ;IAC/B,CAAC;IAED,MAAMS,GAAG,GAAG,MAAMC,KAAK,CAAC,+CAA+C,EAAEP,kBAAkB,CAAC;IAC5F,MAAMQ,GAAG,GAAG,MAAMF,GAAG,CAACG,IAAI,CAAC,CAAC;IAE5B,IAAID,GAAG,CAACE,KAAK,EAAE;MACbpB,UAAU,CAACkB,GAAG,CAACE,KAAK,CAACrB,OAAO,CAAC;IAC/B,CAAC,MAAM,IAAImB,GAAG,CAACG,GAAG,IAAIH,GAAG,CAACI,IAAI,EAAE;MAC9BtB,UAAU,CAAC,gCAAgC,CAAC;MAC5C;MACAE,KAAK,CAACI,MAAM,CAACiB,KAAK,CAAC,CAAC;IACtB;EACF,CAAC;EAED,oBACE3B,OAAA,CAACF,YAAY;IAACK,OAAO,EAAEA,OAAQ;IAACE,QAAQ,EAAEA;EAAS;IAAAuB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AAE1D,CAAC;AAAC7B,EAAA,CAhCID,oBAAoB;AAAA+B,EAAA,GAApB/B,oBAAoB;AAkC1B,eAAeA,oBAAoB;AAAC,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}