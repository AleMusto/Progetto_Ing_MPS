{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alessandro\\\\Code\\\\web-projects\\\\test-site\\\\Progetto Ingegneria\\\\frontend\\\\src\\\\pages\\\\AggiungiElemento.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { getCampiUnici } from '../helpers';\nimport useFetch from '../hooks/useFetch';\nimport AccordionResponsabile from '../components/AccordionResponsabile';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AggiungiElemento() {\n  _s();\n  const {\n    data,\n    loading,\n    error\n  } = useFetch('http://localhost:1337/api/patterns?pagination[pageSize]=100&populate=*');\n  const [uniqueFields, setUniqueFields] = useState([]);\n  useEffect(() => {\n    if (data) {\n      const fields = getCampiUnici(data);\n      const uniqueFieldsArray = Object.entries(fields).map(([field, {\n        values,\n        ids\n      }], index) => ({\n        id: index,\n        label: field,\n        campi: Array.from(values),\n        id_campi: ids // Aggiungi l'array di id\n      }));\n      setUniqueFields(uniqueFieldsArray);\n    }\n  }, [data]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: [\"Error: \", error.message]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(AccordionResponsabile, {\n      items: uniqueFields,\n      keepOthersOpen: true,\n      stato: \"Aggiungi\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n}\n_s(AggiungiElemento, \"XxbElKejTkFYVihGnYM4WQ0IMt8=\", false, function () {\n  return [useFetch];\n});\n_c = AggiungiElemento;\nvar _c;\n$RefreshReg$(_c, \"AggiungiElemento\");","map":{"version":3,"names":["React","useEffect","useState","getCampiUnici","useFetch","AccordionResponsabile","jsxDEV","_jsxDEV","AggiungiElemento","_s","data","loading","error","uniqueFields","setUniqueFields","fields","uniqueFieldsArray","Object","entries","map","field","values","ids","index","id","label","campi","Array","from","id_campi","children","fileName","_jsxFileName","lineNumber","columnNumber","message","items","keepOthersOpen","stato","_c","$RefreshReg$"],"sources":["C:/Users/Alessandro/Code/web-projects/test-site/Progetto Ingegneria/frontend/src/pages/AggiungiElemento.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { getCampiUnici } from '../helpers';\r\nimport useFetch from '../hooks/useFetch';\r\nimport AccordionResponsabile from '../components/AccordionResponsabile';\r\n\r\nexport default function AggiungiElemento() {\r\n  const { data, loading, error } = useFetch('http://localhost:1337/api/patterns?pagination[pageSize]=100&populate=*');\r\n  const [uniqueFields, setUniqueFields] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      const fields = getCampiUnici(data);\r\n  \r\n      const uniqueFieldsArray = Object.entries(fields).map(([field, { values, ids }], index) => ({\r\n        id: index,\r\n        label: field,\r\n        campi: Array.from(values),\r\n        id_campi: ids // Aggiungi l'array di id\r\n      }));\r\n  \r\n      setUniqueFields(uniqueFieldsArray);\r\n    }\r\n  }, [data]);\r\n\r\n  if (loading) return <p>Loading...</p>;\r\n  if (error) return <p>Error: {error.message}</p>;\r\n\r\n  return (\r\n    <div>\r\n      <AccordionResponsabile items={uniqueFields} keepOthersOpen={true} stato={\"Aggiungi\"} />\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,aAAa,QAAQ,YAAY;AAC1C,OAAOC,QAAQ,MAAM,mBAAmB;AACxC,OAAOC,qBAAqB,MAAM,qCAAqC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExE,eAAe,SAASC,gBAAgBA,CAAA,EAAG;EAAAC,EAAA;EACzC,MAAM;IAAEC,IAAI;IAAEC,OAAO;IAAEC;EAAM,CAAC,GAAGR,QAAQ,CAAC,wEAAwE,CAAC;EACnH,MAAM,CAACS,YAAY,EAAEC,eAAe,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAEpDD,SAAS,CAAC,MAAM;IACd,IAAIS,IAAI,EAAE;MACR,MAAMK,MAAM,GAAGZ,aAAa,CAACO,IAAI,CAAC;MAElC,MAAMM,iBAAiB,GAAGC,MAAM,CAACC,OAAO,CAACH,MAAM,CAAC,CAACI,GAAG,CAAC,CAAC,CAACC,KAAK,EAAE;QAAEC,MAAM;QAAEC;MAAI,CAAC,CAAC,EAAEC,KAAK,MAAM;QACzFC,EAAE,EAAED,KAAK;QACTE,KAAK,EAAEL,KAAK;QACZM,KAAK,EAAEC,KAAK,CAACC,IAAI,CAACP,MAAM,CAAC;QACzBQ,QAAQ,EAAEP,GAAG,CAAC;MAChB,CAAC,CAAC,CAAC;MAEHR,eAAe,CAACE,iBAAiB,CAAC;IACpC;EACF,CAAC,EAAE,CAACN,IAAI,CAAC,CAAC;EAEV,IAAIC,OAAO,EAAE,oBAAOJ,OAAA;IAAAuB,QAAA,EAAG;EAAU;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;EACrC,IAAItB,KAAK,EAAE,oBAAOL,OAAA;IAAAuB,QAAA,GAAG,SAAO,EAAClB,KAAK,CAACuB,OAAO;EAAA;IAAAJ,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAI,CAAC;EAE/C,oBACE3B,OAAA;IAAAuB,QAAA,eACEvB,OAAA,CAACF,qBAAqB;MAAC+B,KAAK,EAAEvB,YAAa;MAACwB,cAAc,EAAE,IAAK;MAACC,KAAK,EAAE;IAAW;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACpF,CAAC;AAEV;AAACzB,EAAA,CA3BuBD,gBAAgB;EAAA,QACLJ,QAAQ;AAAA;AAAAmC,EAAA,GADnB/B,gBAAgB;AAAA,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}